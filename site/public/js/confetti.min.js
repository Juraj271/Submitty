function addConfetti(){var e=document.getElementById("confetti_canvas");if(!e)return;let t=0;e.addEventListener("click",function(){"none"==e.style.display||(e.style.display="none")}),window.addEventListener("keypress",function(t){key=window.event?window.event.keyCode:t.keyCode,13!==key||"none"==e.style.display||(e.style.display="none")}),e.width=window.innerWidth;var a=document.body,n=document.documentElement;e.height=Math.max(a.scrollHeight,a.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight),e.style.display="block";let i=e.getContext("2d"),f=[],o=Date.now(),d=.25,c=10,s=.25,r=document.getElementById("submission_timestamp");r&&(due_date=r.innerHTML.match(/\d+/g));let h=(new Date).getMonth();function l(e,t){this.x=e,this.y=t,this.x_vel=(Math.random()-.5)*d,this.size=(.5*Math.random()+.75)*c,this.gravity=(.5*Math.random()+.75)*s,this.rotation=2*Math.PI*Math.random(),this.rotationSpeed=2*Math.PI*(Math.random()-.5)*.0015,this.color=function(){let e=[];switch(h){case 0:e=["#406bc9","#ffffff","#809bce","#9ac8de","#b6c7be"];break;case 1:e=["#df3b57","#ee4b6a","#7d2335","#86cec5","#b2e6f1"];break;case 2:e=["#8db62f","#7b9233","#034121","#022607","#ffcc00"];break;case 3:e=["#eed149","#3bca8b","#9ee0e7","#ebb8aa","#ffffff"];break;case 4:e=["#f9eae5","#f16878","#c1dbb3","#7ebc89","#ff8154"];break;case 5:e=["#ec4067","#f4d35e","#f78764","#00889f","#083d77"];break;case 6:e=["#ffffff","#de1a1a","#090c9b"];break;case 7:e=["#f0a202","#ff4040","#f2c940","#ab2321"];break;case 8:e=["#8FD7FF","#316498","#34CA34","#FFFF40","#FF2929","#9c84a4"];break;case 9:e=["#000000","#ff6700","#291528"];break;case 10:e=["#5a351e","#522b47","#912f09","#f0a202","#fbf5f3"];break;case 11:e=["#d7cdcc","#f7b11d","#1f5e00","#de1a1a","#ffffff"]}return 0===e.length&&(e=["#8FD7FF","#316498","#34CA34","#FFFF40","#FF2929","#9c84a4"]),e[Math.floor(Math.random()*e.length)]}()}for(due_date.length>=1&&(h=parseInt(due_date[0],10)-1);f.length<2500;)f.push(new l(Math.random()*e.width,Math.random()*e.height));!function a(){let n=Date.now(),d=n-o;for(let t=f.length-1;t>=0;t--){let a=f[t];a.y>e.height?f.splice(t,1):(a.y+=a.gravity*d,a.rotation+=a.rotationSpeed*d,a.x+=a.x_vel)}for(;f.length<2500&&t<250;)f.push(new l(Math.random()*e.width,-20));o=n;let c=!1;if(++t>=2500)return c=!0,i.clearRect(0,0,e.width,e.height),e.style.display="",e.width=0,void(e.height=0);c||setTimeout(a,1)}(),function t(){i.clearRect(0,0,e.width,e.height),f.forEach(function(e){i.save(),i.fillStyle=e.color,i.translate(e.x+e.size/25,e.y+e.size/2),i.rotate(e.rotation),i.fillRect(-e.size/2,-e.size/2,e.size,e.size),i.restore()}),requestAnimationFrame(t)}()}